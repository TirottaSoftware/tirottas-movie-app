(this["webpackJsonptirottas-movie-app"]=this["webpackJsonptirottas-movie-app"]||[]).push([[0],{14:function(e,t,n){},20:function(e,t,n){e.exports=n(45)},25:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),i=n.n(o),c=(n(25),n(18)),s=n(1),u=n(8),l=n.n(u),d=n(16),p=n.n(d),m=(n(14),function(e){l.a.setAppElement("body");var t=Object(a.useState)(""),n=Object(s.a)(t,2),o=(n[0],n[1],Object(a.useState)(!1)),i=Object(s.a)(o,2),c=i[0],u=i[1],d=function(){u(!c)};function m(e){(function(e){return fetch("http://api.themoviedb.org/3/movie/"+e+"?api_key=a8ddc54a46d9633a6500259806fbe193&append_to_response=videos").then((function(e){return e.json()})).then((function(e){return e}))})(e).then((function(e){var t="https://youtube.com/watch?v="+e.videos.results[0].key;window.open(t)}))}return r.a.createElement("div",{className:"movie"},r.a.createElement("img",{onClick:d,className:"movie-img",src:"https://image.tmdb.org/t/p/w500/"+e.movie.poster_path,alt:"Image Not Found"}),r.a.createElement(l.a,{isOpen:c,closeTimeoutMS:500},r.a.createElement("div",{className:"popup-banner",style:{background:"linear-gradient(to left top, transparent 30%, black 100%),url(https://image.tmdb.org/t/p/original/"+e.movie.backdrop_path+")",backgroundSize:"cover",height:"100%"}},r.a.createElement("div",{className:"popup-header"},r.a.createElement("h2",{id:"popup-title"},e.movie.title,r.a.createElement("p",{id:"rating"},e.movie.vote_average," / 10")),r.a.createElement("button",{id:"btn-banner-close",onClick:d},r.a.createElement(p.a,null))),r.a.createElement("p",{className:"popup-description"},e.movie.overview&&e.movie.overview.slice(0,200)+"..."),r.a.createElement("button",{onClick:function(){return m(e.movie.id)},id:"btn-trailer"},"Trailer"))))}),h=function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),o=n[0],i=n[1],c=Math.floor(18.69*Math.random());Object(a.useEffect)((function(){i(e.movies[c])}),[]);function u(e){(function(e){return fetch("http://api.themoviedb.org/3/movie/"+e+"?api_key=a8ddc54a46d9633a6500259806fbe193&append_to_response=videos").then((function(e){return e.json()})).then((function(e){return e}))})(e).then((function(e){var t="https://youtube.com/watch?v="+e.videos.results[0].key;window.open(t)}))}return r.a.createElement("header",{className:"banner",style:{background:"linear-gradient(to left, transparent 0%, black 80%),  url(https://image.tmdb.org/t/p/original/"+(null===o||void 0===o?void 0:o.backdrop_path)+") center center/100vw 100vh no-repeat "}},r.a.createElement("div",{className:"banner-info"},r.a.createElement("h2",null,o.title),r.a.createElement("p",null,o.overview&&o.overview.slice(0,200)+"..."),r.a.createElement("button",{onClick:function(){return u(o.id)},id:"btn-trailer"},"Watch Trailer")))},v={defaultUrl:"https://api.themoviedb.org/3/discover/movie?api_key=a8ddc54a46d9633a6500259806fbe193&append_to_response=videos",popular:"https://api.themoviedb.org/3/movie/popular?api_key=a8ddc54a46d9633a6500259806fbe193&language=en-US&page=1&append_to_response=videos",top:"https://api.themoviedb.org/3/movie/top_rated?api_key=a8ddc54a46d9633a6500259806fbe193&language=en-US&page=1&append_to_response=videos",upcoming:"https://api.themoviedb.org/3/movie/upcoming?api_key=a8ddc54a46d9633a6500259806fbe193&language=en-US&page=1&append_to_response=videos"};n(43);var f=function(){var e=v.defaultUrl,t=v.top,n=v.popular,o=v.upcoming+"&append_to_response=videos",i=Object(a.useState)([]),u=Object(s.a)(i,2),l=u[0],d=u[1],p=Object(a.useState)([]),f=Object(s.a)(p,2),b=f[0],g=f[1],E=Object(a.useState)([]),w=Object(s.a)(E,2),y=w[0],j=w[1],S=Object(a.useState)([]),k=Object(s.a)(S,2),_=k[0],O=k[1],N=Object(a.useState)(""),q=Object(s.a)(N,2),L=q[0],M=q[1],T=Object(a.useState)(""),U=Object(s.a)(T,2),C=U[0],A=U[1];return Object(c.a)(_),Object(a.useEffect)((function(){fetch(e).then((function(e){return e.json()})).then((function(e){return O(e.results),e})),fetch(n).then((function(e){return e.json()})).then((function(e){return j(e.results),e})),fetch(t).then((function(e){return e.json()})).then((function(e){return d(e.results),e})),fetch(o).then((function(e){return e.json()})).then((function(e){return g(e.results),e}))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),A(L),0===L.length){var n=document.querySelector(".tobe-hidden"),a=document.querySelector(".banner"),r=document.querySelector("#first-row");return document.querySelector(".first-row-title").innerHTML="popular",r.classList.remove("wrap"),a.classList.remove("hidden"),n.classList.remove("hidden"),void fetch(e).then((function(e){return e.json()})).then((function(e){return O(e.results),e}))}L!==C&&fetch("https://api.themoviedb.org/3/search/movie?api_key=a8ddc54a46d9633a6500259806fbe193&language=en-US&query="+L).then((function(e){return e.json()})).then((function(e){var t=document.querySelector(".tobe-hidden"),n=document.querySelector(".banner"),a=document.querySelector("#first-row");document.querySelector(".first-row-title").innerHTML="Showing results for: "+L,a.classList.add("wrap"),n.classList.add("hidden"),t.classList.add("hidden"),O(e.results)}))},className:"navbar"},r.a.createElement("h3",null,"Tirotta's Movie App"),r.a.createElement("input",{id:"searchbar",type:"search",placeholder:"Search...",value:L,onChange:function(e){e.preventDefault(),M(e.target.value)}}),r.a.createElement("input",{id:"btn-search",type:"submit",value:"Search"})),y.length>0&&r.a.createElement(h,{movies:y}),r.a.createElement("h2",{className:"first-row-title",id:"row-title"},"Popular"),r.a.createElement("div",{className:"movie-row",id:"first-row"},_.length>0&&_.map((function(e){return e.poster_path?r.a.createElement(m,{key:e.id,movie:e}):null}))),r.a.createElement("div",{className:"tobe-hidden"},r.a.createElement("h2",{id:"row-title"},"top rated"),r.a.createElement("div",{className:"movie-row"},_.length>0&&l.map((function(e){return r.a.createElement(m,{key:e.id,movie:e})}))),r.a.createElement("h2",{id:"row-title"},"upcoming"),r.a.createElement("div",{className:"movie-row"},_.length>0&&b.map((function(e){return r.a.createElement(m,{key:e.id,movie:e})})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.e7e132e0.chunk.js.map